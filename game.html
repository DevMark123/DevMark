<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èµ›åšç‚¹å‡»å™¨ | Cyber Clicker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00f5d4;
            --secondary: #7b2cbf;
            --accent: #ff006e;
            --font-mono: Consolas, Monaco, 'Courier New', 'Lucida Console', monospace;
            --font-sans: system-ui, -apple-system, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            --dark: #0a0a0f;
            --darker: #050508;
            --light: #e0e0e0;
            --code-bg: #1a1a2e;
        }

        body {
            font-family: var(--font-sans);
            background: var(--darker);
            color: var(--light);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* åŠ¨æ€èƒŒæ™¯ */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(123, 44, 191, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(0, 245, 212, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(255, 0, 110, 0.05) 0%, transparent 70%),
                var(--darker);
        }

        /* æ•°æ®æµæ•ˆæœ */
        #dataStream {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.12;
        }

        /* å¯¼èˆªæ  */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 245, 212, 0.1);
        }

        .logo {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        /* æ¸¸æˆä¸»åŒºåŸŸ */
        .game-container {
            padding: 6rem 5% 2rem;
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
        }

        /* å·¦ä¾§ç‚¹å‡»åŒºåŸŸ */
        .click-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 70vh;
        }

        .score-display {
            text-align: center;
            margin-bottom: 3rem;
        }

        .score-label {
            font-size: 1rem;
            color: rgba(224, 224, 224, 0.6);
            margin-bottom: 0.5rem;
        }

        .score-value {
            font-family: var(--font-mono);
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-per-second {
            font-size: 1rem;
            color: var(--primary);
            margin-top: 0.5rem;
        }

        /* ç‚¹å‡»æŒ‰é’® */
        .click-button {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            cursor: pointer;
            position: relative;
            box-shadow: 
                0 0 60px rgba(0, 245, 212, 0.5),
                inset 0 0 60px rgba(255, 255, 255, 0.1);
            transition: all 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }

        .click-button:hover {
            transform: scale(1.05);
            box-shadow: 
                0 0 80px rgba(0, 245, 212, 0.7),
                inset 0 0 60px rgba(255, 255, 255, 0.2);
        }

        .click-button:active {
            transform: scale(0.95);
        }

        /* ç‚¹å‡»ç²’å­æ•ˆæœ */
        .particle {
            position: absolute;
            pointer-events: none;
            font-family: var(--font-mono);
            font-weight: 700;
            color: var(--primary);
            font-size: 1.2rem;
            animation: float-up 1s ease-out forwards;
        }

        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }

        /* å³ä¾§å»ºç­‘åŒºåŸŸ */
        .buildings-panel {
            background: var(--code-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 245, 212, 0.1);
            max-height: 80vh;
            overflow-y: auto;
        }

        .panel-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            text-align: center;
            color: var(--primary);
        }

        .building-item {
            background: rgba(0, 245, 212, 0.05);
            border: 1px solid rgba(0, 245, 212, 0.1);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.5;
            pointer-events: none;
        }

        .building-item.unlocked {
            opacity: 1;
            pointer-events: auto;
        }

        .building-item:hover.unlocked {
            border-color: var(--primary);
            background: rgba(0, 245, 212, 0.1);
        }

        .building-item.can-buy {
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
        }

        .building-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .building-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .building-count {
            font-family: var(--font-mono);
            font-size: 1.2rem;
            color: var(--primary);
        }

        .building-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: rgba(224, 224, 224, 0.6);
        }

        .building-price {
            color: var(--accent);
        }

        /* å‡çº§åŒºåŸŸ */
        .upgrades-panel {
            margin-top: 2rem;
            background: var(--code-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 245, 212, 0.1);
        }

        .upgrade-item {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(0, 245, 212, 0.1);
            border: 1px solid rgba(0, 245, 212, 0.2);
            border-radius: 20px;
            margin: 0.3rem;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upgrade-item:hover {
            background: var(--primary);
            color: var(--dark);
        }

        /* ç»Ÿè®¡ä¿¡æ¯ */
        .stats-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 245, 212, 0.1);
            padding: 1rem 5%;
            display: flex;
            justify-content: space-around;
            font-size: 0.9rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            color: rgba(224, 224, 224, 0.6);
            font-size: 0.8rem;
        }

        .stat-value {
            font-family: var(--font-mono);
            color: var(--primary);
            font-weight: 700;
        }

        /* æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        /* å“åº”å¼ */
        @media (max-width: 968px) {
            .game-container {
                grid-template-columns: 1fr;
            }
            
            .buildings-panel {
                max-height: none;
            }
        }
    </style>
</head>
<body>
    <canvas id="dataStream"></canvas>
    <div class="bg-animation"></div>

    <!-- å¯¼èˆªæ  -->
    <nav>
        <a href="index.html" class="logo">&lt;Dev /&gt;</a>
        <ul class="nav-links">
            <li><a href="index.html">é¦–é¡µ</a></li>
            <li><a href="share.html">è§†é¢‘åˆ†äº«</a></li>
            <li><a href="games.html" style="color: var(--primary);">ğŸ® å°æ¸¸æˆ</a></li>
        </ul>
    </nav>

    <!-- æ¸¸æˆä¸»åŒºåŸŸ -->
    <div class="game-container">
        <!-- å·¦ä¾§ç‚¹å‡»åŒºåŸŸ -->
        <div class="click-area">
            <div class="score-display">
                <div class="score-label">ç®—åŠ› (Hash Power)</div>
                <div class="score-value" id="score">0</div>
                <div class="score-per-second">æ¯ç§’: <span id="perSecond">0</span> H/s</div>
            </div>
            
            <button class="click-button" id="clickBtn">
                <span style="font-size: 3rem;">âš¡</span>
            </button>
        </div>

        <!-- å³ä¾§å»ºç­‘åŒºåŸŸ -->
        <div class="buildings-panel" id="buildingsPanel">
            <div class="panel-title">è®¡ç®—è®¾æ–½</div>
            <div id="buildingsList"></div>
        </div>
    </div>

    <!-- åº•éƒ¨ç»Ÿè®¡ -->
    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-label">æ€»ç‚¹å‡»æ¬¡æ•°</div>
            <div class="stat-value" id="totalClicks">0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">å»ºç­‘æ€»æ•°</div>
            <div class="stat-value" id="totalBuildings">0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">æ¸¸æˆæ—¶é—´</div>
            <div class="stat-value" id="playTime">0:00</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">ç¦»çº¿æ”¶ç›Š</div>
            <div class="stat-value" id="offlineEarnings">0</div>
        </div>
    </div>

    <script>
        // æ•°æ®æµæ•ˆæœ
        const dataStreamCanvas = document.getElementById('dataStream');
        const dataStreamCtx = dataStreamCanvas.getContext('2d');
        dataStreamCanvas.width = window.innerWidth;
        dataStreamCanvas.height = window.innerHeight;

        const dataStreams = [];
        const streamColors = ['#00ffff', '#ff00ff', '#00ff88', '#ffff00', '#0088ff'];

        function initDataStreams() {
            dataStreams.length = 0;
            for (let i = 0; i < 25; i++) {
                dataStreams.push({
                    x: Math.random() * dataStreamCanvas.width,
                    y: Math.random() * dataStreamCanvas.height,
                    speed: Math.random() * 2 + 0.5,
                    length: Math.random() * 60 + 30,
                    color: streamColors[Math.floor(Math.random() * streamColors.length)],
                    opacity: Math.random() * 0.4 + 0.15,
                    direction: Math.random() > 0.5 ? 'right' : 'down'
                });
            }
        }

        function updateDataStreams() {
            dataStreamCtx.clearRect(0, 0, dataStreamCanvas.width, dataStreamCanvas.height);
            
            dataStreams.forEach(stream => {
                dataStreamCtx.save();
                dataStreamCtx.strokeStyle = stream.color;
                dataStreamCtx.globalAlpha = stream.opacity;
                dataStreamCtx.lineWidth = 1.5;
                dataStreamCtx.shadowBlur = 8;
                dataStreamCtx.shadowColor = stream.color;
                
                dataStreamCtx.beginPath();
                
                if (stream.direction === 'right') {
                    dataStreamCtx.moveTo(stream.x, stream.y);
                    dataStreamCtx.lineTo(stream.x + stream.length, stream.y);
                    stream.x += stream.speed;
                    if (stream.x > dataStreamCanvas.width) {
                        stream.x = -stream.length;
                        stream.y = Math.random() * dataStreamCanvas.height;
                    }
                } else {
                    dataStreamCtx.moveTo(stream.x, stream.y);
                    dataStreamCtx.lineTo(stream.x, stream.y + stream.length);
                    stream.y += stream.speed;
                    if (stream.y > dataStreamCanvas.height) {
                        stream.y = -stream.length;
                        stream.x = Math.random() * dataStreamCanvas.width;
                    }
                }
                
                dataStreamCtx.stroke();
                
                for (let j = 0; j < 2; j++) {
                    const dotX = stream.direction === 'right' 
                        ? stream.x + Math.random() * stream.length 
                        : stream.x + (Math.random() - 0.5) * 8;
                    const dotY = stream.direction === 'right' 
                        ? stream.y + (Math.random() - 0.5) * 8 
                        : stream.y + Math.random() * stream.length;
                    
                    dataStreamCtx.globalAlpha = stream.opacity * 0.7;
                    dataStreamCtx.beginPath();
                    dataStreamCtx.arc(dotX, dotY, 1.2, 0, Math.PI * 2);
                    dataStreamCtx.fill();
                }
                
                dataStreamCtx.restore();
            });
            
            requestAnimationFrame(updateDataStreams);
        }

        initDataStreams();
        updateDataStreams();

        // æ¸¸æˆæ•°æ®
        const buildings = [
            { id: 0, name: 'Hello Worldè„šæœ¬', icon: 'ğŸ“œ', basePrice: 15, baseOutput: 1, desc: 'æœ€ç®€å•çš„ç¨‹åº' },
            { id: 1, name: 'çˆ¬è™«æœºå™¨äºº', icon: 'ğŸ•·ï¸', basePrice: 100, baseOutput: 5, desc: 'è‡ªåŠ¨æŠ“å–æ•°æ®' },
            { id: 2, name: 'APIæœåŠ¡å™¨', icon: 'ğŸ”Œ', basePrice: 500, baseOutput: 25, desc: 'æä¾›æ¥å£æœåŠ¡' },
            { id: 3, name: 'æ•°æ®åº“é›†ç¾¤', icon: 'ğŸ—„ï¸', basePrice: 2000, baseOutput: 100, desc: 'å­˜å‚¨æµ·é‡æ•°æ®' },
            { id: 4, name: 'AIæ¨ç†èŠ‚ç‚¹', icon: 'ğŸ§ ', basePrice: 8000, baseOutput: 400, desc: 'ç¥ç»ç½‘ç»œè®¡ç®—' },
            { id: 5, name: 'åŒºå—é“¾çŸ¿æœº', icon: 'â›ï¸', basePrice: 32000, baseOutput: 1600, desc: 'å»ä¸­å¿ƒåŒ–ç®—åŠ›' },
            { id: 6, name: 'é‡å­è®¡ç®—æ ¸å¿ƒ', icon: 'âš›ï¸', basePrice: 128000, baseOutput: 6400, desc: 'é‡å­æ¯”ç‰¹è¿ç®—' },
            { id: 7, name: 'ç¥ç»ç½‘ç»œçŸ©é˜µ', icon: 'ğŸŒ', basePrice: 512000, baseOutput: 25600, desc: 'æ·±åº¦å­¦ä¹ é›†ç¾¤' },
            { id: 8, name: 'æ˜Ÿé™…è®¡ç®—ç½‘ç»œ', icon: 'ğŸš€', basePrice: 2048000, baseOutput: 102400, desc: 'è·¨æ˜Ÿçƒåˆ†å¸ƒå¼' },
            { id: 9, name: 'æˆ´æ£®çƒç®—åŠ›ç«™', icon: 'â˜€ï¸', basePrice: 8192000, baseOutput: 409600, desc: 'æ’æ˜Ÿèƒ½æºé©±åŠ¨' }
        ];

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            score: 0,
            totalClicks: 0,
            clickPower: 1,
            buildings: new Array(10).fill(0),
            startTime: Date.now(),
            lastSave: Date.now()
        };

        // åŠ è½½å­˜æ¡£
        function loadGame() {
            const saved = localStorage.getItem('cyberClickerSave');
            if (saved) {
                const data = JSON.parse(saved);
                const offlineTime = (Date.now() - data.lastSave) / 1000;
                const offlineEarnings = calculateOfflineEarnings(data, offlineTime);
                
                gameState = data;
                gameState.score += offlineEarnings;
                gameState.lastSave = Date.now();
                
                if (offlineEarnings > 0) {
                    showOfflineEarnings(offlineEarnings, offlineTime);
                }
            }
        }

        // è®¡ç®—ç¦»çº¿æ”¶ç›Š
        function calculateOfflineEarnings(data, seconds) {
            let perSecond = 0;
            data.buildings.forEach((count, index) => {
                perSecond += count * buildings[index].baseOutput;
            });
            return Math.floor(perSecond * seconds * 0.5); // ç¦»çº¿æ”¶ç›Š50%
        }

        // æ˜¾ç¤ºç¦»çº¿æ”¶ç›Š
        function showOfflineEarnings(amount, seconds) {
            const hours = Math.floor(seconds / 3600);
            const mins = Math.floor((seconds % 3600) / 60);
            document.getElementById('offlineEarnings').textContent = `+${formatNumber(amount)} (${hours}h ${mins}m)`;
        }

        // ä¿å­˜æ¸¸æˆ
        function saveGame() {
            gameState.lastSave = Date.now();
            localStorage.setItem('cyberClickerSave', JSON.stringify(gameState));
        }

        // æ ¼å¼åŒ–æ•°å­—
        function formatNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return Math.floor(num).toString();
        }

        // è·å–å»ºç­‘ä»·æ ¼
        function getBuildingPrice(index) {
            const count = gameState.buildings[index];
            const base = buildings[index].basePrice;
            return Math.floor(base * Math.pow(1.15, count));
        }

        // è®¡ç®—æ¯ç§’äº§å‡º
        function calculatePerSecond() {
            let total = 0;
            gameState.buildings.forEach((count, index) => {
                total += count * buildings[index].baseOutput;
            });
            return total;
        }

        // æ›´æ–°UI
        function updateUI() {
            document.getElementById('score').textContent = formatNumber(gameState.score);
            document.getElementById('perSecond').textContent = formatNumber(calculatePerSecond());
            document.getElementById('totalClicks').textContent = formatNumber(gameState.totalClicks);
            
            const totalBuildings = gameState.buildings.reduce((a, b) => a + b, 0);
            document.getElementById('totalBuildings').textContent = totalBuildings;
            
            // æ›´æ–°å»ºç­‘åˆ—è¡¨
            updateBuildingsList();
        }

        // æ›´æ–°å»ºç­‘åˆ—è¡¨
        function updateBuildingsList() {
            const container = document.getElementById('buildingsList');
            container.innerHTML = '';
            
            buildings.forEach((building, index) => {
                const count = gameState.buildings[index];
                const price = getBuildingPrice(index);
                const canBuy = gameState.score >= price;
                const canAfford = gameState.score >= price;
                const visible = index === 0 || gameState.buildings[index - 1] > 0 || canAfford;
                
                const item = document.createElement('div');
                item.className = `building-item ${visible ? 'unlocked' : ''} ${canAfford ? 'can-buy' : ''}`;
                item.innerHTML = `
                    <div class="building-header">
                        <span class="building-name">${building.icon} ${building.name}</span>
                        <span class="building-count">${count}</span>
                    </div>
                    <div class="building-info">
                        <span>${building.desc}</span>
                        <span class="building-price">ğŸ’» ${formatNumber(price)}</span>
                    </div>
                    <div class="building-info">
                        <span>äº§å‡º: ${formatNumber(building.baseOutput)}/s</span>
                        <span>æ€»è®¡: ${formatNumber(count * building.baseOutput)}/s</span>
                    </div>
                `;
                
                if (visible && canAfford) {
                    item.onclick = () => buyBuilding(index);
                }
                
                container.appendChild(item);
            });
        }

        // è´­ä¹°å»ºç­‘
        function buyBuilding(index) {
            const price = getBuildingPrice(index);
            if (gameState.score >= price) {
                gameState.score -= price;
                gameState.buildings[index]++;
                saveGame();
                updateUI();
            }
        }

        // ç‚¹å‡»äº‹ä»¶
        document.getElementById('clickBtn').addEventListener('click', function(e) {
            gameState.score += gameState.clickPower;
            gameState.totalClicks++;
            
            // åˆ›å»ºç²’å­æ•ˆæœ
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.textContent = '+' + formatNumber(gameState.clickPower);
            particle.style.left = e.clientX + 'px';
            particle.style.top = e.clientY + 'px';
            document.body.appendChild(particle);
            
            setTimeout(() => particle.remove(), 1000);
            
            saveGame();
            updateUI();
        });

        // è‡ªåŠ¨ç”Ÿäº§
        setInterval(() => {
            const perSecond = calculatePerSecond();
            gameState.score += perSecond / 10;
        }, 100);

        // UIæ›´æ–°ï¼ˆé™ä½é¢‘ç‡é¿å…é—ªçƒï¼‰
        setInterval(updateUI, 1000);

        // å®šæœŸä¿å­˜
        setInterval(saveGame, 30000); // æ¯30ç§’ä¿å­˜

        // æ¸¸æˆæ—¶é—´ç»Ÿè®¡
        setInterval(() => {
            const elapsed = Math.floor((Date.now() - gameState.startTime) / 1000);
            const hours = Math.floor(elapsed / 3600);
            const mins = Math.floor((elapsed % 3600) / 60);
            document.getElementById('playTime').textContent = `${hours}:${mins.toString().padStart(2, '0')}`;
        }, 60000);

        // åˆå§‹åŒ–
        loadGame();
        updateUI();

        // çª—å£å¤§å°è°ƒæ•´
        window.addEventListener('resize', () => {
            dataStreamCanvas.width = window.innerWidth;
            dataStreamCanvas.height = window.innerHeight;
        });

        // é¡µé¢å…³é—­å‰ä¿å­˜
        window.addEventListener('beforeunload', saveGame);
    </script>
</body>
</html>